"use strict";(self.webpackChunkmy_doc=self.webpackChunkmy_doc||[]).push([["3088"],{2278:function(e,n,r){r.r(n),r.d(n,{default:()=>g});var i=r("85893"),s=r("50065");let t=r.p+"static/image/14.edc8df88.png",l=r.p+"static/image/15.478fdbfc.png",c=r.p+"static/image/16.e98db230.png",o=r.p+"static/image/17.ab870fea.png",d=r.p+"static/image/18.b3c4ef75.png";function a(e){let n=Object.assign({h1:"h1",a:"a",ol:"ol",li:"li",p:"p",img:"img",h2:"h2",ul:"ul",div:"div",pre:"pre",code:"code",strong:"strong",em:"em"},(0,s.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"创建arkts工程",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#创建arkts工程",children:"#"}),"创建ArkTS工程"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"若首次打开DevEco Studio，请点击Create Project创建工程。如果已经打开了一个工程，请在菜单栏选择File > New > Create\r\nProject来创建一个新工程。"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["选择Application应用开发（本文以应用开发为例，Atomic Service对应为元服务开发），选择模板“Empty Ability”，点击Next进行下一步配置。\r\n若开发者需要进行Native相关工程的开发，请选择“Native\r\nC++”模板，更多模板的使用和说明请见",(0,i.jsx)(n.a,{href:"https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/ide-template-V5",rel:"noopener noreferrer",target:"_blank",children:"工程模板介绍"}),"。\r\n",(0,i.jsx)(n.img,{alt:"14.png",src:t})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["进入配置工程界面，Compatible SDK表示兼容的最低API Version，此处以选择“5.0.0(12)”为例，其他参数保持默认设置即可。\r\n",(0,i.jsx)(n.img,{alt:"15.png",src:l})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"点击Finish，工具会自动生成示例代码和相关资源，等待工程创建完成。"}),"\n"]}),"\n",(0,i.jsx)(n.li,{}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"arkts工程目录结构stage模型",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#arkts工程目录结构stage模型",children:"#"}),"ArkTS工程目录结构（Stage模型）"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"14.png",src:c})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"AppScope > app.json5：应用的全局配置信息，详见app.json5配置文件。"}),"\n",(0,i.jsxs)(n.li,{children:["entry：HarmonyOS工程模块，编译构建生成一个HAP包。","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"src > main > ets：用于存放ArkTS源码。"}),"\n",(0,i.jsx)(n.li,{children:"src > main > ets > entryability：应用/服务的入口。"}),"\n",(0,i.jsx)(n.li,{children:"src > main > ets > entrybackupability：应用提供扩展的备份恢复能力。"}),"\n",(0,i.jsx)(n.li,{children:"src > main > ets > pages：应用/服务包含的页面。"}),"\n",(0,i.jsx)(n.li,{children:"src > main > resources：用于存放应用/服务所用到的资源文件，如图形、多媒体、字符串、布局文件等。关于资源文件，详见资源分类与访问。"}),"\n",(0,i.jsx)(n.li,{children:"src > main > module.json5：模块配置文件。主要包含HAP包的配置信息、应用/服务在具体设备上的配置信息以及应用/服务的全局配置信息。具体的配置文件说明，详见module.json5配置文件。"}),"\n",(0,i.jsx)(n.li,{children:"build-profile.json5：当前的模块信息 、编译信息配置项，包括buildOption、targets配置等。"}),"\n",(0,i.jsx)(n.li,{children:"hvigorfile.ts：模块级编译构建任务脚本。"}),"\n",(0,i.jsx)(n.li,{children:"obfuscation-rules.txt：混淆规则文件。混淆开启后，在使用Release模式进行编译时，会对代码进行编译、混淆及压缩处理，保护代码资产。详见开启代码混淆。"}),"\n",(0,i.jsx)(n.li,{children:"oh-package.json5：用来描述包名、版本、入口文件（类型声明文件）和依赖项等信息。"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"oh_modules：用于存放三方库依赖信息。"}),"\n",(0,i.jsx)(n.li,{children:"build-profile.json5：工程级配置信息，包括签名signingConfigs、产品配置products等。其中products中可配置当前运行环境，默认为HarmonyOS。"}),"\n",(0,i.jsx)(n.li,{children:"hvigorfile.ts：工程级编译构建任务脚本。"}),"\n",(0,i.jsx)(n.li,{children:"oh-package.json5：主要用来描述全局配置，如：依赖覆盖（overrides）、依赖关系重写（overrideDependencyMap）和参数化配置（parameterFile）等。"}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"构建第一个页面",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#构建第一个页面",children:"#"}),"构建第一个页面"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"使用文本组件。"}),"\n"]}),"\n",(0,i.jsxs)(n.div,{className:"rspress-directive info",children:[(0,i.jsx)(n.div,{className:"rspress-directive-title",children:"INFO"}),(0,i.jsx)(n.div,{className:"rspress-directive-content",children:(0,i.jsx)(n.p,{children:"\n工程同步完成后，在“Project”窗口，点击“entry > src > main > ets > pages”，打开“Index.ets”文件，进行页面的编写。\r\n针对本文中使用文本/按钮来实现页面跳转/返回的应用场景，页面均使用Row和Column组件来组建布局。对于更多复杂元素对齐的场景，可选择使用RelativeContainer组件进行布局。"})})]}),"\n",(0,i.jsx)(n.p,{children:"“Index.ets”文件的示例如下："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ets",meta:"",children:"// Index.ets\r\n@Entry\r\n@Component\r\nstruct Index {\r\n  @State message: string = 'Hello World'\r\n\r\n  build() {\r\n    Row() {\r\n      Column() {\r\n        Text(this.message)\r\n          .fontSize(50)\r\n          .fontWeight(FontWeight.Bold)\r\n      }\r\n      .width('100%')\r\n    }\r\n    .height('100%')\r\n  }\r\n}\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"添加按钮。"}),"\n"]}),"\n",(0,i.jsxs)(n.div,{className:"rspress-directive info",children:[(0,i.jsx)(n.div,{className:"rspress-directive-title",children:"INFO"}),(0,i.jsx)(n.div,{className:"rspress-directive-content",children:(0,i.jsx)(n.p,{children:"\n在默认页面基础上，我们添加一个Button组件，作为按钮响应用户点击，从而实现跳转到另一个页面。“Index.ets”文件的示例如下："})})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ets",meta:"",children:"// Index.ets\r\n@Entry\r\n@Component\r\nstruct Index {\r\n  @State message: string = 'Hello World'\r\n\r\n  build() {\r\n    Row() {\r\n      Column() {\r\n        Text(this.message)\r\n          .fontSize(50)\r\n          .fontWeight(FontWeight.Bold)\r\n        // 添加按钮，以响应用户点击\r\n        Button() {\r\n          Text('Next')\r\n            .fontSize(30)\r\n            .fontWeight(FontWeight.Bold)\r\n        }\r\n        .type(ButtonType.Capsule)\r\n        .margin({\r\n          top: 20\r\n        })\r\n        .backgroundColor('#0D9FFB')\r\n        .width('40%')\r\n        .height('5%')\r\n      }\r\n      .width('100%')\r\n    }\r\n    .height('100%')\r\n  }\r\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["在编辑窗口右上角的侧边工具栏，点击Previewer，打开预览器。第一个页面效果如下图所示：\r\n",(0,i.jsx)(n.img,{alt:"14.png",src:o})]}),"\n",(0,i.jsxs)(n.h2,{id:"构建第二个页面",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#构建第二个页面",children:"#"}),"构建第二个页面"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"创建第二个页面。"}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["新建第二个页面文件。在“Project”窗口，打开“entry > src > main > ets”，右键点击“pages”文件夹，选择“New > ArkTS\r\nFile”，命名为“Second”，点击回车键。可以看到文件目录结构如下：\r\n",(0,i.jsx)(n.img,{alt:"15.png",src:d})]}),"\n"]}),"\n",(0,i.jsxs)(n.div,{className:"rspress-directive tip",children:[(0,i.jsx)(n.div,{className:"rspress-directive-title",children:"说明"}),(0,i.jsx)(n.div,{className:"rspress-directive-content",children:(0,i.jsx)(n.p,{children:"\n开发者也可以在右键点击“pages”文件夹时，选择“New > Page > Empty\r\nPage”，命名为“Second”，点击“Finish”完成第二个页面的创建。使用此种方式则无需再进行下文中第二个页面路由的手动配置。"})})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"配置第二个页面的路由。在“Project”窗口，打开“entry > src > main > resources > base >\r\nprofile”，在main_pages.json文件中的“src”下配置第二个页面的路由“pages/Second”。示例如下："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",meta:"",children:'{\r\n"src": [\r\n  "pages/Index",\r\n  "pages/Second"\r\n]\r\n}\n'})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"添加文本及按钮。\r\n参照第一个页面，在第二个页面添加Text组件、Button组件等，并设置其样式。“Second.ets”文件的示例如下："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ets",meta:"",children:"// Second.ets\r\n@Entry\r\n@Component\r\nstruct Second {\r\n  @State message: string = 'Hi there'\r\n\r\n  build() {\r\n    Row() {\r\n      Column() {\r\n        Text(this.message)\r\n          .fontSize(50)\r\n          .fontWeight(FontWeight.Bold)\r\n        Button() {\r\n          Text('Back')\r\n            .fontSize(30)\r\n            .fontWeight(FontWeight.Bold)\r\n        }\r\n        .type(ButtonType.Capsule)\r\n        .margin({\r\n          top: 20\r\n        })\r\n        .backgroundColor('#0D9FFB')\r\n        .width('40%')\r\n        .height('5%')\r\n      }\r\n      .width('100%')\r\n    }\r\n    .height('100%')\r\n  }\r\n}\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"实现页面间的跳转",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#实现页面间的跳转",children:"#"}),"实现页面间的跳转"]}),"\n",(0,i.jsxs)(n.p,{children:["页面间的导航可以通过",(0,i.jsx)(n.a,{href:"https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-routing-V5",rel:"noopener noreferrer",target:"_blank",children:"页面路由router"}),"\r\n来实现。页面路由router根据页面url找到目标页面，从而实现跳转。使用页面路由请导入router模块。"]}),"\n",(0,i.jsxs)(n.p,{children:["如果需要实现更好的转场动效，推荐使用",(0,i.jsx)(n.a,{href:"https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-navigation-navigation-V5",rel:"noopener noreferrer",target:"_blank",children:"Navigation"}),"。"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"第一个页面跳转到第二个页面。"}),"\n",(0,i.jsxs)(n.p,{children:["在第一个页面中，跳转按钮绑定onClick事件，点击按钮时跳转到第二页。“",(0,i.jsx)(n.strong,{children:"Index.ets"}),"”文件的示例如下："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ets",meta:"",children:" // Index.ets\r\n  // 导入页面路由模块\r\n  import { router } from '@kit.ArkUI';\r\n  import { BusinessError } from '@kit.BasicServicesKit';\r\n  \r\n  @Entry\r\n  @Component\r\n  struct Index {\r\n    @State message: string = 'Hello World'\r\n  \r\n    build() {\r\n      Row() {\r\n        Column() {\r\n          Text(this.message)\r\n            .fontSize(50)\r\n            .fontWeight(FontWeight.Bold)\r\n          // 添加按钮，以响应用户点击\r\n          Button() {\r\n            Text('Next')\r\n              .fontSize(30)\r\n              .fontWeight(FontWeight.Bold)\r\n          }\r\n          .type(ButtonType.Capsule)\r\n          .margin({\r\n            top: 20\r\n          })\r\n          .backgroundColor('#0D9FFB')\r\n          .width('40%')\r\n          .height('5%')\r\n          // 跳转按钮绑定onClick事件，点击时跳转到第二页\r\n          .onClick(() => {\r\n            console.info(`Succeeded in clicking the 'Next' button.`)\r\n            // 跳转到第二页\r\n            router.pushUrl({ url: 'pages/Second' }).then(() => {\r\n              console.info('Succeeded in jumping to the second page.')\r\n  \r\n            }).catch((err: BusinessError) => {\r\n              console.error(`Failed to jump to the second page. Code is ${err.code}, message is ${err.message}`)\r\n            })\r\n          })\r\n        }\r\n        .width('100%')\r\n      }\r\n      .height('100%')\r\n    }\r\n  }\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"第二个页面返回到第一个页面。"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["在第二个页面中，返回按钮绑定onClick事件，点击按钮时返回到第一页。“",(0,i.jsx)(n.strong,{children:"Second.ets"}),"”文件的示例如下："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ets",meta:"",children:"// Second.ets// 导入页面路由模块import { router } from '@kit.ArkUI';import { BusinessError } from '@kit.BasicServicesKit';\r\n@Entry @Componentstruct\r\nSecond\r\n{  @State\r\nmessage\r\n:\r\nstring = 'Hi there'\r\nbuild()\r\n{\r\n Row()\r\n {\r\n   Column()\r\n   {\r\n     Text(this.message).fontSize(50).fontWeight(FontWeight.Bold)\r\n     Button()\r\n     {\r\n       Text('Back').fontSize(30).fontWeight(FontWeight.Bold)\r\n     }\r\n   .\r\n     type(ButtonType.Capsule).margin({top: 20}).backgroundColor('#0D9FFB').width('40%').height('5%')        // 返回按钮绑定onClick事件，点击按钮时返回到第一页        .onClick(() => {          console.info(`Succeeded in clicking the 'Back' button.`)          try {            // 返回第一页            router.back()            console.info('Succeeded in returning to the first page.')          } catch (err) {            let code = (err as BusinessError).code;             let message = (err as BusinessError).message;             console.error(`Failed to return to the first page. Code is ${code}, message is ${message}`)          }        })      }      .width('100%')    }    .height('100%')  }}\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsxs)(n.li,{children:["打开Index.ets文件，点击预览器中的",(0,i.jsx)(n.img,{src:"https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250127121539.54229976731798088965353456330167:50001231000000:2800:4E9F23C2A6E00DA93D6966095E7BDD021E38751235AD054AF0DB11D940F9BE08.png?needInitFileName=true?needInitFileName=true",alt:"img"}),"\r\n按钮进行刷新。效果如下图所示："]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250127121540.07016298698905406818734034422866:50001231000000:2800:29C9B2BD41454CB20AD21576270364DE8B5B5D74D4E5C3F1FE69C7D1F3C088F7.png?needInitFileName=true?needInitFileName=true",alt:"img"})}),"\n",(0,i.jsxs)(n.h2,{id:"使用真机运行应用",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用真机运行应用",children:"#"}),"使用真机运行应用"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["将搭载HarmonyOS系统的真机与电脑连接。具体指导及要求，可查看",(0,i.jsx)(n.a,{href:"https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/ide-run-device-V5",rel:"noopener noreferrer",target:"_blank",children:"使用本地真机运行应用/服务"}),"。"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["点击",(0,i.jsx)(n.strong,{children:"File"})," > ",(0,i.jsx)(n.strong,{children:"Project Structure..."})," > ",(0,i.jsx)(n.strong,{children:"Project"})," > ",(0,i.jsx)(n.strong,{children:"SigningConfigs"}),"界面勾选“",(0,i.jsx)(n.strong,{children:"Support HarmonyOS"}),"”和“*\r\n",(0,i.jsx)(n.em,{children:"Automatically generate signature"}),"*”，点击界面提示的“",(0,i.jsx)(n.strong,{children:"Sign In"}),"”，使用华为账号登录。等待自动签名完成后，点击“",(0,i.jsx)(n.strong,{children:"OK"}),"\r\n”即可。如下图所示："]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250127121540.71688406588984989627369566362101:50001231000000:2800:81743E3151A14C225C1D15FAC09FC936EBB8C4D5240ACB3C3C2B05FB44075A3C.png?needInitFileName=true?needInitFileName=true",alt:"点击放大"})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsxs)(n.li,{children:["在编辑窗口右上角的工具栏，点击",(0,i.jsx)(n.img,{src:"https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250127121540.85361527331021167920555305275883:50001231000000:2800:3FD6E2C10860C276BFEB43CAF93B81002EE1829DAE0EA0004A5E8B40797FB806.png?needInitFileName=true?needInitFileName=true",alt:"img"}),"\r\n按钮运行。效果如下图所示："]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250127121540.52951805828038487886771369963993:50001231000000:2800:E19B471CBCE3C51E96560C861418C730EC30AD8601F24894F52C896E02A1F0D6.png?needInitFileName=true?needInitFileName=true",alt:"点击放大"})}),"\n",(0,i.jsx)(n.p,{children:"恭喜您已经基于Stage模型构建完成第一个ArkTS应用，快来探索更多的HarmonyOS功能吧。"})]})}function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,s.ah)(),e.components);return n?(0,i.jsx)(n,Object.assign({},e,{children:(0,i.jsx)(a,e)})):a(e)}let g=h;h.__RSPRESS_PAGE_META={},h.__RSPRESS_PAGE_META["harmony%2Fkaifajichu%2Fpart3.md"]={toc:[{id:"arkts工程目录结构stage模型",text:"ArkTS工程目录结构（Stage模型）",depth:2},{id:"构建第一个页面",text:"构建第一个页面",depth:2},{id:"构建第二个页面",text:"构建第二个页面",depth:2},{id:"实现页面间的跳转",text:"实现页面间的跳转",depth:2},{id:"使用真机运行应用",text:"使用真机运行应用",depth:2}],title:"创建ArkTS工程",headingTitle:"创建ArkTS工程",frontmatter:{}}}}]);