"use strict";(self.webpackChunkmy_doc=self.webpackChunkmy_doc||[]).push([["128"],{466:function(e,n,i){i.r(n),i.d(n,{default:function(){return c}});var r=i(85893),l=i(50065);function s(e){let n=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",ul:"ul",li:"li",strong:"strong",img:"img",div:"div",ol:"ol",pre:"pre",code:"code"},(0,l.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"预览器的使用",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#预览器的使用",children:"#"}),"预览器的使用"]}),"\n",(0,r.jsxs)(n.h2,{id:"查看arktsjs预览效果",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#查看arktsjs预览效果",children:"#"}),"查看ArkTS/JS预览效果"]}),"\n",(0,r.jsx)(n.p,{children:"预览器支持ArkTS/JS应用/元服务“实时预览”和“动态预览”。"}),"\n",(0,r.jsx)(n.p,{children:"说明"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"预览支持Phone、Tablet、2in1、Car设备的ArkTS工程，支持Litewearable设备的JS工程。"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"预览器功能依赖于电脑显卡的OpenGL版本，OpenGL版本要求为3.2及以上。"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"预览时将不会运行Ability生命周期。"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"预览不支持引用HSP。引用了HSP的模块不支持预览，请直接在HSP内预览或模拟HSP。"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"预览场景下，不支持通过相对路径及绝对路径的方式访问resources目录下的文件。"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"预览不支持组件拖拽。"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"部分API不支持预览，如Ability、App、MultiMedia等模块。"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Richtext、Web、Video、XComponent组件不支持预览。"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"不支持调用C++库的预览。"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"har在被应用/元服务使用时真机效果有区别，真机上实际效果应用不显示menubar，元服务显示menubar，但预览器都以不显示menubar为准。若开发har模块时，请注意被元服务使用时预览器效果与真机效果的不同。"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["实时预览：在开发界面UI代码过程中，如果添加或删除了UI组件，您只需",(0,r.jsx)(n.strong,{children:"Ctrl+S"}),"进行保存，然后预览器就会立即刷新预览结果。如果修改了组件的属性，则预览器会实时（亚秒级）刷新预览结果，达到极速预览的效果（当前版本极速预览仅支持ArkTS组件。支持部分数据绑定场景，如@State装饰的变量）。实时预览默认开启，如果不需要实时预览，请单击预览器右上角  ",(0,r.jsx)(n.img,{src:"https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20241120180054.92758246869481356471219988506997:50001231000000:2800:0F0253544E97DD67C252183B9C59BF0A05783191B0B99665397F143AFA99395C.png?needInitFileName=true?needInitFileName=true",alt:"img"}),"按钮，关闭实时预览功能。"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.div,{className:"rspress-directive tip",children:[(0,r.jsx)(n.div,{className:"rspress-directive-title",children:"说明"}),(0,r.jsx)(n.div,{className:"rspress-directive-content",children:(0,r.jsxs)(n.p,{children:["\n","\r\n开发者修改resources/base/profile目录下的配置文件（如main_pages.json/form_config.json），不支持触发实时预览，开发者需要点击","重新加载。"]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20241120180054.92628355658399934542775824566907:50001231000000:2800:D5D3F3524CB2EB364B031061852C9B0A914F87BF0C347EB48780EDF7BB1728C6.gif?needInitFileName=true?needInitFileName=true",alt:"img"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"动态预览"}),"\n",(0,r.jsx)(n.p,{children:"：在预览器界面，可以在预览器中操作应用/元服务的界面交互动作，如单击、跳转、滑动等，与应用/元服务运行在真机设备上的界面交互体验一致。"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20241120180054.58506317184872251495411329820249:50001231000000:2800:D3230710A9ABDB840D81FAFD2849F350AFC711CE4CEE8033D2A27A753DD53247.gif?needInitFileName=true?needInitFileName=true",alt:"img"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"以ArkTS为例，使用预览器的方法如下："}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"创建或打开一个ArkTS应用/元服务工程。本示例以打开一个本地ArkTS Demo工程为例。"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"在工程目录下，打开任意一个.ets文件（JS工程请打开.hml/.css/.js页面）。"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"可以通过如下任意一种方式打开预览器开关，显示效果如下图所示："}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["通过菜单栏，单击",(0,r.jsx)(n.strong,{children:"View > Tool Windows > Previewer"}),"打开预览器。"]}),"\n",(0,r.jsxs)(n.li,{children:["在编辑窗口右上角的侧边工具栏，单击",(0,r.jsx)(n.strong,{children:"Previewer"}),"，打开预览器。"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20241120180054.96884386926289487905981450916867:50001231000000:2800:E7D00081A123D0554FB9D7FCE4DCCABF13B3D105511D9F1A655098B1C8E0C54F.png?needInitFileName=true?needInitFileName=true",alt:"img"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"查看arkui预览效果",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#查看arkui预览效果",children:"#"}),(0,r.jsx)(n.strong,{children:"查看ArkUI预览效果"})]}),"\n",(0,r.jsxs)(n.p,{children:["ArkUI预览支持页面预览与组件预览，下图中左侧图标",(0,r.jsx)(n.img,{src:"https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20241120180054.68416805976160582658196355129985:50001231000000:2800:66C337C5943682A299370BB615FC8773305936F4604D6F8F573C9A8D97F44860.png?needInitFileName=true?needInitFileName=true",alt:"img"}),"为页面预览，右侧图标",(0,r.jsx)(n.img,{src:"https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20241120180054.85097033860053113215672090904575:50001231000000:2800:274D8C8DB3DB0BA29DC4E18BB1826900FF9BFA91B0710000ACD421B3E2D4FF0C.png?needInitFileName=true?needInitFileName=true",alt:"img"}),"为组件预览。"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20241120180054.68929052354553083349643495056360:50001231000000:2800:46BC1386B2DDC249124D860ADE0F43EE435BEEE2288537755394FCAE8C435B85.png?needInitFileName=true?needInitFileName=true",alt:"img"})}),"\n",(0,r.jsxs)(n.h2,{id:"页面预览",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#页面预览",children:"#"}),"页面预览"]}),"\n",(0,r.jsx)(n.p,{children:"ArkTS应用/元服务支持页面预览。页面预览通过在工程的ets文件头部添加@Entry实现。"}),"\n",(0,r.jsx)(n.p,{children:"@Entry的使用参考如下示例："}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-less",meta:"",children:"@Entry\r\n@Component\r\nstruct Index {\r\n  @State message: string = 'Hello World'\r\n\r\n  build() {\r\n    Row() {\r\n      Column() {\r\n        Text(this.message)\r\n          .fontSize(50)\r\n          .fontWeight(FontWeight.Bold)\r\n      }\r\n      .width('100%')\r\n    }\r\n    .height('100%')\r\n  }\r\n}\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"组件预览",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#组件预览",children:"#"}),"组件预览"]}),"\n",(0,r.jsx)(n.p,{children:"ArkTS应用/元服务支持组件预览。组件预览支持实时预览，不支持动态图和动态预览。组件预览通过在组件前添加注解@Preview实现，在单个源文件中，最多可以使用10个@Preview装饰自定义组件。"}),"\n",(0,r.jsx)(n.p,{children:"@Preview的使用参考如下示例："}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-less",meta:"",children:"@Preview({\r\n  title: 'ContentTable'\r\n})\r\n@Component\r\nstruct ContentTablePreview {\r\n  build() {\r\n    Flex() {\r\n      ContentTable({ foodItem: getDefaultFoodData() })\r\n    }\r\n  }\r\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"以上示例的组件预览效果如下图所示："}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20241120180054.19076659292102595390535404021677:50001231000000:2800:1BA13DA744D82DEED04940A1DA8D90A9C50BD6C440D5F21C70E8EA43F7D054B5.gif?needInitFileName=true?needInitFileName=true",alt:"img"})}),"\n",(0,r.jsx)(n.p,{children:"组件预览默认的预览设备为Phone，若您想查看不同的设备，或者不同的屏幕形状，或者不同设备语言等情况下的组件预览效果，可以通过设置@Preview的参数，指定预览设备的相关属性。若不设置@Preview的参数，默认的设备属性如下所示："}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cangjie",meta:"",children:"@Preview({\r\n  title: 'Component1',  //预览组件的名称\r\n  deviceType: 'phone',  //指定当前组件预览渲染的设备类型，默认为Phone\r\n  width: 1080,  //预览设备的宽度，单位：px\r\n  height: 2340,  //预览设备的长度，单位：px\r\n  colorMode: 'light',  //显示的亮暗模式，当前支持取值为light\r\n  dpi: 480,  //预览设备的屏幕DPI值\r\n  locale: 'zh_CN',  //预览设备的语言，如zh_CN、en_US等\r\n  orientation: 'portrait',  //预览设备的横竖屏状态，取值为portrait或landscape\r\n  roundScreen: false  //设备的屏幕形状是否为圆形\r\n})\n"})}),"\n",(0,r.jsx)(n.p,{children:"请注意，如果被预览的组件是依赖参数注入的组件，建议的预览方式是：定义一个组件片段，在该片段中声明将要预览的组件，以及该组件依赖的入参，并在组件片段上标注@Preview注解，以表明将预览该片段中的内容。例如，要预览如下组件："}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-scss",meta:"",children:"@Component\r\nstruct Title {\r\n  @Prop context: string; \r\n  build() {\r\n    Text(this.context)\r\n  }\r\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"建议按如下方式预览："}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-less",meta:"",children:"@Preview\r\n@Component    //定义组件片段TitlePreview\r\nstruct TitlePreview {\r\n  build() {\r\n    Title({ context: 'MyTitle' })    //在该片段中声明将要预览的组件Title，以及该组件依赖的入参 {context: 'MyTitle'}\r\n  }\r\n}\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"inspector双向预览",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#inspector双向预览",children:"#"}),(0,r.jsx)(n.strong,{children:"Inspector双向预览"})]}),"\n",(0,r.jsxs)(n.p,{children:["DevEco Studio提供HarmonyOS应用/元服务的UI预览界面与源代码文件间的双向预览功能，支持ets文件与预览器界面的双向预览。使用双向预览功能时，需要在预览器界面单击",(0,r.jsx)(n.img,{src:"https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20241120180055.41263846020456905737902345376428:50001231000000:2800:A8478D1BD57C264863491AF3E3343F873433FA316D0EC61B71F0AB4A19745CF5.png?needInitFileName=true?needInitFileName=true",alt:"img"}),"图标打开双向预览功能。"]}),"\n",(0,r.jsx)(n.p,{children:"说明"}),"\n",(0,r.jsx)(n.p,{children:"暂不支持服务卡片的双向预览功能。"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20241120180055.42892023858971623489783421161693:50001231000000:2800:72418422EB5935FCFB5E9973F5E34347CC8E3F03A1862F6208C446E5B33E7BF4.png?needInitFileName=true?needInitFileName=true",alt:"img"})}),"\n",(0,r.jsx)(n.p,{children:"开启双向预览功能后，支持代码编辑器、UI界面和Component Tree组件树三者之间的联动："}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"选中预览器UI界面中的组件，则组件树上对应的组件将被选中，同时代码编辑器中的布局文件中对应的代码块高亮显示。"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"选中布局文件中的代码块，则在UI界面会高亮显示，组件树上的组件节点也会呈现被选中的状态。"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"选中组件树中的组件，则对应的代码块和UI界面也会高亮显示。"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20241120180055.62888440617113163933405382698288:50001231000000:2800:A13018992A51E3858BB2040B3607EA6D84D42CFEAC687B2826E90C6EDC34C61F.png?needInitFileName=true?needInitFileName=true",alt:"点击放大"})}),"\n",(0,r.jsx)(n.p,{children:"在预览界面还可以通过组件的属性面板修改可修改的属性或样式，在预览界面修改后，预览器会自动同步到代码编辑器中修改源码，并实时的刷新UI界面；同样的，如果在代码编辑器中修改源码，也会实时刷新UI界面，并更新组件树信息及组件属性。"}),"\n",(0,r.jsx)(n.p,{children:"说明"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"如果组件有做数据绑定，则其属性不支持在属性面板修改。"}),"\n",(0,r.jsx)(n.li,{children:"如果界面有使用动画效果或者带动画效果组件，则其属性不支持在属性面板修改。"}),"\n",(0,r.jsx)(n.li,{children:"多设备预览时，不支持双向预览。"}),"\n"]})]})}function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,l.ah)(),e.components);return n?(0,r.jsx)(n,Object.assign({},e,{children:(0,r.jsx)(s,e)})):s(e)}let c=t;t.__RSPRESS_PAGE_META={},t.__RSPRESS_PAGE_META["harmony%2Fkaifajichu%2Fpart5.md"]={toc:[{id:"查看arktsjs预览效果",text:"查看ArkTS/JS预览效果",depth:2},{id:"查看arkui预览效果",text:"**查看ArkUI预览效果**",depth:2},{id:"页面预览",text:"页面预览",depth:2},{id:"组件预览",text:"组件预览",depth:2},{id:"inspector双向预览",text:"**Inspector双向预览**",depth:2}],title:"预览器的使用",headingTitle:"预览器的使用",frontmatter:{}}}}]);