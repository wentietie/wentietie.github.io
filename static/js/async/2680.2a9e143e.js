"use strict";(self.webpackChunkmy_doc=self.webpackChunkmy_doc||[]).push([["2680"],{49703:function(e,r,s){s.r(r),s.d(r,{default:()=>i});var n=s("85893"),a=s("50065");let t=s.p+"static/image/k8s-push-image-refused-2.23289622.png",d=s.p+"static/image/k8s-push-image-refused.493cbab6.png";function c(e){let r=Object.assign({h1:"h1",a:"a",p:"p",strong:"strong",img:"img",h2:"h2",pre:"pre",code:"code"},(0,a.ah)(),e.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r.h1,{id:"无法推送镜像",children:["无法推送镜像",(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#无法推送镜像",children:"#"})]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.a,{href:"https://blog.csdn.net/haodiaoer/article/details/94835649",target:"_blank",rel:"noopener noreferrer",children:"https://blog.csdn.net/haodiaoer/article/details/94835649"})}),"\n",(0,n.jsxs)(r.h1,{id:"错误信息",children:["错误信息：",(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#错误信息",children:"#"})]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsxs)(r.strong,{children:["Get ",(0,n.jsx)(r.a,{href:"https://10.1.93.164:5000/v2/",target:"_blank",rel:"noopener noreferrer",children:"https://10.1.93.164:5000/v2/"}),": net/http: request canceled while waiting for connection (Client.Timeout exceeded while awaiting headers)"]})}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)("img",{src:d,alt:""})}),"\n",(0,n.jsxs)(r.h1,{id:"错误原因",children:["错误原因：",(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#错误原因",children:"#"})]}),"\n",(0,n.jsxs)(r.p,{children:["docker私有仓库服务器，",(0,n.jsx)(r.strong,{children:"默认是基于https传输的"}),"，所以我们需要在客户端做相关设置，不使用https传输"]}),"\n",(0,n.jsxs)(r.h1,{id:"解决步骤",children:["解决步骤：",(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#解决步骤",children:"#"})]}),"\n",(0,n.jsxs)(r.h2,{id:"step1编辑etcdockerdaemonjson文件",children:["step1.编辑/etc/docker/daemon.json文件",(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#step1编辑etcdockerdaemonjson文件",children:"#"})]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-linux",children:"vi /etc/docker/daemon.json\n"})}),"\n",(0,n.jsxs)(r.h2,{id:"step2将下面的代码放进去保存并退出",children:["step2.将下面的代码放进去保存并退出",(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#step2将下面的代码放进去保存并退出",children:"#"})]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-linux",children:'"insecure-registries":["镜像服务器IP:镜像容器端口号"]\n'})}),"\n",(0,n.jsx)(r.p,{children:"结果如下："}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)("img",{src:t,alt:""})}),"\n",(0,n.jsxs)(r.h2,{id:"step3重新启动docker",children:["step3.重新启动docker",(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#step3重新启动docker",children:"#"})]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-linux",children:"systemctl daemon-reload\r\nsystemctl restart docker\n"})})]})}function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:r}=Object.assign({},(0,a.ah)(),e.components);return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}let i=h;h.__RSPRESS_PAGE_META={},h.__RSPRESS_PAGE_META["tang%2Fk8s%2F%E9%94%99%E8%AF%AF%E9%9B%86%E9%94%A6%2F3.md"]={toc:[{text:"step1.编辑/etc/docker/daemon.json文件",id:"step1编辑etcdockerdaemonjson文件",depth:2},{text:"step2.将下面的代码放进去保存并退出",id:"step2将下面的代码放进去保存并退出",depth:2},{text:"step3.重新启动docker",id:"step3重新启动docker",depth:2}],title:"解决步骤：",frontmatter:{}}}}]);