"use strict";(self.webpackChunkmy_doc=self.webpackChunkmy_doc||[]).push([["9319"],{96976:function(e,n,r){r.r(n),r.d(n,{default:()=>h});var s=r("85893"),i=r("50065");let t=r.p+"static/image/es-start.082bd46a.png",a=r.p+"static/image/kibana-start.64b46fe2.png",c=r.p+"static/image/project-settings.922d7c8b.png";function d(e){let n=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",strong:"strong",pre:"pre",code:"code",h3:"h3",img:"img",blockquote:"blockquote"},(0,i.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h1,{id:"jetlinks项目初体验",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#jetlinks项目初体验",children:"#"}),"jetlinks项目初体验"]}),"\n",(0,s.jsxs)(n.h2,{id:"1-环境准备",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#1-环境准备",children:"#"}),"1 环境准备"]}),"\n",(0,s.jsx)(n.p,{children:"须安装以下软件："}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"jdk 1.8.0_2xx+"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"nodeJS v12.xx"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"npm v6.xx"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Elasticsearch 6.8+"}),"，"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Kibana 6.8+"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"mysql 5.7+"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"redis 5.x"})}),"\n",(0,s.jsxs)(n.p,{children:["其中",(0,s.jsx)(n.strong,{children:"Elasticsearch 和 Kibana版本需要保持一致"}),"。"]}),"\n",(0,s.jsxs)(n.p,{children:["此外，编码工具后端使用",(0,s.jsx)(n.strong,{children:"IntelliJ IDEA"}),"，前端使用",(0,s.jsx)(n.strong,{children:"WebStorm"}),"。"]}),"\n",(0,s.jsxs)(n.h2,{id:"2-代码下载",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#2-代码下载",children:"#"}),"2 代码下载"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",meta:"",children:"# 后端代码\r\ngit clone https://github.com/jetlinks/jetlinks-community.git\r\n\r\n# 前端代码\r\ngit clone https://github.com/jetlinks/jetlinks-ui-antd.git\n"})}),"\n",(0,s.jsxs)(n.h2,{id:"3-配置文件",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#3-配置文件",children:"#"}),"3 配置文件"]}),"\n",(0,s.jsxs)(n.h3,{id:"31-后端代码配置文件",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#31-后端代码配置文件",children:"#"}),"3.1 后端代码配置文件"]}),"\n",(0,s.jsxs)(n.p,{children:["配置文件地址：",(0,s.jsx)(n.code,{children:"jetlinks-standalone/src/main/resources/application.yml"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",meta:"",children:"server:\r\n  port: 8848 #端口号\r\nspring:\r\n  redis: #redis配置\r\n    host: 10.1.93.168\r\n    port: 6379\r\n    password: _bd@20cube19!\r\n    lettuce:\r\n      pool:\r\n        max-active: 1024\r\n    timeout: 20s\r\n    serializer: jdk # 设置fst时,redis key使用string序列化,value使用 fst序列化.\r\n    \r\n  r2dbc: #mysql数据库配置\r\n    url: r2dbc:mysql://localhost:3306/oil?useUnicode=true&characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&allowMultiQueries=true\r\n    username: root\r\n    password: 123456\r\n    pool:\r\n      max-size: 32\r\n  reactor:\r\n    debug-agent:\r\n      enabled: false\r\n  data:\r\n    elasticsearch:\r\n      client:\r\n        reactive:\r\n          endpoints: ${elasticsearch.client.host}:${elasticsearch.client.port}\r\n          max-in-memory-size: 100MB\r\n          socket-timeout: ${elasticsearch.client.socket-timeout}\r\n          connection-timeout: ${elasticsearch.client.socket-timeout}\r\n\r\neasyorm:\r\n  default-schema: oil # 此处和数据库名称要一致\r\n  dialect: mysql #数据库方言\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"32-前端配置文件",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#32-前端配置文件",children:"#"}),"3.2 前端配置文件"]}),"\n",(0,s.jsxs)(n.p,{children:["配置后台接口的配置文件：",(0,s.jsx)(n.code,{children:"config/proxy.ts"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",meta:"",children:"/**\r\n * 在生产环境 代理是无法生效的，所以这里没有生产环境的配置\r\n */\r\nexport default {\r\n  dev: {\r\n    '/jetlinks': {\r\n      target: '后台地址',\r\n      changeOrigin: true,\r\n      pathRewrite: { '^/jetlinks': '' },\r\n    },\r\n  },\r\n  test: {\r\n    '/jetlinks': {\r\n      target: '后台地址',\r\n      changeOrigin: true,\r\n      pathRewrite: { '^/jetlinks': '' },\r\n    },\r\n  },\r\n  pre: {\r\n    '/jetlinks': {\r\n      target: '后台地址',\r\n      changeOrigin: true,\r\n      pathRewrite: { '^/jetlinks': '' },\r\n    },\r\n  },\r\n};\n"})}),"\n",(0,s.jsxs)(n.h2,{id:"4-运行",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#4-运行",children:"#"}),"4 运行"]}),"\n",(0,s.jsxs)(n.h3,{id:"41-启动mysql与redis",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#41-启动mysql与redis",children:"#"}),"4.1 启动mysql与redis"]}),"\n",(0,s.jsxs)(n.h3,{id:"42-启动elasticsearch",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#42-启动elasticsearch",children:"#"}),"4.2 启动elasticsearch"]}),"\n",(0,s.jsxs)(n.p,{children:["执行",(0,s.jsx)(n.code,{children:"elasticsearch/bin/elasticsearch.bat"}),"。"]}),"\n",(0,s.jsxs)(n.p,{children:["浏览器访问",(0,s.jsx)(n.code,{children:"http://localhost:9200/"}),"，页面如下即可："]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t})}),"\n",(0,s.jsxs)(n.h3,{id:"43启动kibana",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#43启动kibana",children:"#"}),"4.3启动kibana"]}),"\n",(0,s.jsx)(n.p,{children:"执行kibana/bin/kibana.bat。"}),"\n",(0,s.jsxs)(n.p,{children:["浏览器访问",(0,s.jsx)(n.code,{children:"http://localhost:5601/"}),"，页面如下即可："]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:a})}),"\n",(0,s.jsxs)(n.h3,{id:"44-通过idea启动后端代码",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#44-通过idea启动后端代码",children:"#"}),"4.4 通过idea启动后端代码"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"配置"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["点击",(0,s.jsx)(n.code,{children:"file"})," --\x3e ",(0,s.jsx)(n.code,{children:"Project Structure"})," --\x3e ",(0,s.jsx)(n.code,{children:"Project"}),",配置",(0,s.jsx)(n.code,{children:"SDK"}),"为",(0,s.jsx)(n.code,{children:"jdk1.8"}),"，",(0,s.jsx)(n.code,{children:"Project language level"}),"为",(0,s.jsx)(n.code,{children:"8"}),"。"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:c})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"启动"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["运行",(0,s.jsx)(n.code,{children:"jetlinks-standalone/src/main/java/org...../JetLinksApplication.java"})]}),"\n",(0,s.jsxs)(n.h3,{id:"45-通过webstorm启动前端代码",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#45-通过webstorm启动前端代码",children:"#"}),"4.5 通过webstorm启动前端代码"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",meta:"",children:"# 我的项目文件是D:\\project\\oil-iot\\jetlinks-ui-antd\r\ncd D:\\project\\oil-iot\\jetlinks-ui-antd\r\n\r\n# 安装依赖\r\nnpm install\r\n# 运行\r\nnpm start\r\n# 启动成功后直接访问http://localhost:8080/即可。默认账号(密码)为admin(admin)\n"})}),"\n",(0,s.jsxs)(n.h2,{id:"5-开发协议包",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#5-开发协议包",children:"#"}),"5 开发协议包"]})]})}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,i.ah)(),e.components);return n?(0,s.jsx)(n,Object.assign({},e,{children:(0,s.jsx)(d,e)})):d(e)}let h=l;l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["tang%2FIoTPlatform%2Fjetlinks.md"]={toc:[{id:"1-环境准备",text:"1 环境准备",depth:2},{id:"2-代码下载",text:"2 代码下载",depth:2},{id:"3-配置文件",text:"3 配置文件",depth:2},{id:"31-后端代码配置文件",text:"3.1 后端代码配置文件",depth:3},{id:"32-前端配置文件",text:"3.2 前端配置文件",depth:3},{id:"4-运行",text:"4 运行",depth:2},{id:"41-启动mysql与redis",text:"4.1 启动mysql与redis",depth:3},{id:"42-启动elasticsearch",text:"4.2 启动elasticsearch",depth:3},{id:"43启动kibana",text:"4.3启动kibana",depth:3},{id:"44-通过idea启动后端代码",text:"4.4 通过idea启动后端代码",depth:3},{id:"45-通过webstorm启动前端代码",text:"4.5 通过webstorm启动前端代码",depth:3},{id:"5-开发协议包",text:"5 开发协议包",depth:2}],title:"jetlinks项目初体验",headingTitle:"jetlinks项目初体验",frontmatter:{}}}}]);