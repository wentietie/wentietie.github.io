import{_ as e,p as a,q as s,a1 as d}from"./framework-5866ffd3.js";const n="/assets/k8s-push-image-refused-cebdd99b.png",i="/assets/k8s-push-image-refused-2-88bebb82.png",t={},r=d('<h1 id="无法推送镜像" tabindex="-1"><a class="header-anchor" href="#无法推送镜像" aria-hidden="true">#</a> 无法推送镜像</h1><p>https://blog.csdn.net/haodiaoer/article/details/94835649</p><h1 id="错误信息" tabindex="-1"><a class="header-anchor" href="#错误信息" aria-hidden="true">#</a> 错误信息：</h1><p><strong>Get https://10.1.93.164:5000/v2/: net/http: request canceled while waiting for connection (Client.Timeout exceeded while awaiting headers)</strong></p><p><img src="'+n+`" alt=""></p><h1 id="错误原因" tabindex="-1"><a class="header-anchor" href="#错误原因" aria-hidden="true">#</a> 错误原因：</h1><p>docker私有仓库服务器，<strong>默认是基于https传输的</strong>，所以我们需要在客户端做相关设置，不使用https传输</p><h1 id="解决步骤" tabindex="-1"><a class="header-anchor" href="#解决步骤" aria-hidden="true">#</a> 解决步骤：</h1><h2 id="step1-编辑-etc-docker-daemon-json文件" tabindex="-1"><a class="header-anchor" href="#step1-编辑-etc-docker-daemon-json文件" aria-hidden="true">#</a> step1.编辑/etc/docker/daemon.json文件</h2><div class="language-linux line-numbers-mode" data-ext="linux"><pre class="language-linux"><code>vi /etc/docker/daemon.json
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="step2-将下面的代码放进去保存并退出" tabindex="-1"><a class="header-anchor" href="#step2-将下面的代码放进去保存并退出" aria-hidden="true">#</a> step2.将下面的代码放进去保存并退出</h2><div class="language-linux line-numbers-mode" data-ext="linux"><pre class="language-linux"><code>&quot;insecure-registries&quot;:[&quot;镜像服务器IP:镜像容器端口号&quot;]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>结果如下：</p><p><img src="`+i+`" alt=""></p><h2 id="step3-重新启动docker" tabindex="-1"><a class="header-anchor" href="#step3-重新启动docker" aria-hidden="true">#</a> step3.重新启动docker</h2><div class="language-linux line-numbers-mode" data-ext="linux"><pre class="language-linux"><code>systemctl daemon-reload
systemctl restart docker
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,16),c=[r];function o(l,h){return a(),s("div",null,c)}const p=e(t,[["render",o],["__file","3.html.vue"]]);export{p as default};
