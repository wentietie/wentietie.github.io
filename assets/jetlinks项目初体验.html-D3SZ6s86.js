import{_ as s,o as n,c as a,b as e}from"./app-CW2dCZSC.js";const t="/assets/es-start-BRi3rlMD.png",l="/assets/kibana-start-C9RGjly9.png",p="/assets/project-settings-bI51SjOn.png",i={},c=e(`<h1 id="jetlinks项目初体验" tabindex="-1"><a class="header-anchor" href="#jetlinks项目初体验"><span>jetlinks项目初体验</span></a></h1><h2 id="_1-环境准备" tabindex="-1"><a class="header-anchor" href="#_1-环境准备"><span>1 环境准备</span></a></h2><p>须安装以下软件：</p><p><strong>jdk 1.8.0_2xx+</strong></p><p><strong>nodeJS v12.xx</strong></p><p><strong>npm v6.xx</strong></p><p><strong>Elasticsearch 6.8+</strong>，</p><p><strong>Kibana 6.8+</strong></p><p><strong>mysql 5.7+</strong></p><p><strong>redis 5.x</strong></p><p>其中<strong>Elasticsearch 和 Kibana版本需要保持一致</strong>。</p><p>此外，编码工具后端使用<strong>IntelliJ IDEA</strong>，前端使用<strong>WebStorm</strong>。</p><h2 id="_2-代码下载" tabindex="-1"><a class="header-anchor" href="#_2-代码下载"><span>2 代码下载</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token comment"># 后端代码</span></span>
<span class="line"><span class="token function">git</span> clone https://github.com/jetlinks/jetlinks-community.git</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 前端代码</span></span>
<span class="line"><span class="token function">git</span> clone https://github.com/jetlinks/jetlinks-ui-antd.git</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-配置文件" tabindex="-1"><a class="header-anchor" href="#_3-配置文件"><span>3 配置文件</span></a></h2><h3 id="_3-1-后端代码配置文件" tabindex="-1"><a class="header-anchor" href="#_3-1-后端代码配置文件"><span>3.1 后端代码配置文件</span></a></h3><p>配置文件地址：<code>jetlinks-standalone/src/main/resources/application.yml</code></p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="line"><span class="token key atrule">server</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8848</span> <span class="token comment">#端口号</span></span>
<span class="line"><span class="token key atrule">spring</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">redis</span><span class="token punctuation">:</span> <span class="token comment">#redis配置</span></span>
<span class="line">    <span class="token key atrule">host</span><span class="token punctuation">:</span> 10.1.93.168</span>
<span class="line">    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">6379</span></span>
<span class="line">    <span class="token key atrule">password</span><span class="token punctuation">:</span> _bd@20cube19<span class="token tag">!</span></span>
<span class="line">    <span class="token key atrule">lettuce</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token key atrule">pool</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token key atrule">max-active</span><span class="token punctuation">:</span> <span class="token number">1024</span></span>
<span class="line">    <span class="token key atrule">timeout</span><span class="token punctuation">:</span> 20s</span>
<span class="line">    <span class="token key atrule">serializer</span><span class="token punctuation">:</span> jdk <span class="token comment"># 设置fst时,redis key使用string序列化,value使用 fst序列化.</span></span>
<span class="line">    </span>
<span class="line">  <span class="token key atrule">r2dbc</span><span class="token punctuation">:</span> <span class="token comment">#mysql数据库配置</span></span>
<span class="line">    <span class="token key atrule">url</span><span class="token punctuation">:</span> r2dbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>3306/oil<span class="token punctuation">?</span>useUnicode=true<span class="token important">&amp;characterEncoding=utf8&amp;zeroDateTimeBehavior=convertToNull&amp;allowMultiQueries=true</span></span>
<span class="line">    <span class="token key atrule">username</span><span class="token punctuation">:</span> root</span>
<span class="line">    <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123456</span></span>
<span class="line">    <span class="token key atrule">pool</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token key atrule">max-size</span><span class="token punctuation">:</span> <span class="token number">32</span></span>
<span class="line">  <span class="token key atrule">reactor</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">debug-agent</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">false</span></span>
<span class="line">  <span class="token key atrule">data</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">elasticsearch</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token key atrule">client</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token key atrule">reactive</span><span class="token punctuation">:</span></span>
<span class="line">          <span class="token key atrule">endpoints</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>elasticsearch.client.host<span class="token punctuation">}</span><span class="token punctuation">:</span>$<span class="token punctuation">{</span>elasticsearch.client.port<span class="token punctuation">}</span></span>
<span class="line">          <span class="token key atrule">max-in-memory-size</span><span class="token punctuation">:</span> 100MB</span>
<span class="line">          <span class="token key atrule">socket-timeout</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>elasticsearch.client.socket<span class="token punctuation">-</span>timeout<span class="token punctuation">}</span></span>
<span class="line">          <span class="token key atrule">connection-timeout</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>elasticsearch.client.socket<span class="token punctuation">-</span>timeout<span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token key atrule">easyorm</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">default-schema</span><span class="token punctuation">:</span> oil <span class="token comment"># 此处和数据库名称要一致</span></span>
<span class="line">  <span class="token key atrule">dialect</span><span class="token punctuation">:</span> mysql <span class="token comment">#数据库方言</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-2-前端配置文件" tabindex="-1"><a class="header-anchor" href="#_3-2-前端配置文件"><span>3.2 前端配置文件</span></a></h3><p>配置后台接口的配置文件：<code>config/proxy.ts</code></p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="line">/<span class="token important">**</span></span>
<span class="line"> * 在生产环境 代理是无法生效的，所以这里没有生产环境的配置</span>
<span class="line"> <span class="token important">*/</span></span>
<span class="line">export default <span class="token punctuation">{</span></span>
<span class="line">  <span class="token key atrule">dev</span><span class="token punctuation">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token key atrule">&#39;/jetlinks&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token key atrule">target</span><span class="token punctuation">:</span> <span class="token string">&#39;后台地址&#39;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token key atrule">changeOrigin</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token key atrule">pathRewrite</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token key atrule">&#39;^/jetlinks&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token key atrule">test</span><span class="token punctuation">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token key atrule">&#39;/jetlinks&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token key atrule">target</span><span class="token punctuation">:</span> <span class="token string">&#39;后台地址&#39;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token key atrule">changeOrigin</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token key atrule">pathRewrite</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token key atrule">&#39;^/jetlinks&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token key atrule">pre</span><span class="token punctuation">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token key atrule">&#39;/jetlinks&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token key atrule">target</span><span class="token punctuation">:</span> <span class="token string">&#39;后台地址&#39;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token key atrule">changeOrigin</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token key atrule">pathRewrite</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token key atrule">&#39;^/jetlinks&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span>;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-运行" tabindex="-1"><a class="header-anchor" href="#_4-运行"><span>4 运行</span></a></h2><h3 id="_4-1-启动mysql与redis" tabindex="-1"><a class="header-anchor" href="#_4-1-启动mysql与redis"><span>4.1 启动mysql与redis</span></a></h3><h3 id="_4-2-启动elasticsearch" tabindex="-1"><a class="header-anchor" href="#_4-2-启动elasticsearch"><span>4.2 启动elasticsearch</span></a></h3><p>执行<code>elasticsearch/bin/elasticsearch.bat</code>。</p><p>浏览器访问<code>http://localhost:9200/</code>，页面如下即可：</p><p><img src="`+t+'" alt=""></p><h3 id="_4-3启动kibana" tabindex="-1"><a class="header-anchor" href="#_4-3启动kibana"><span>4.3启动kibana</span></a></h3><p>执行kibana/bin/kibana.bat。</p><p>浏览器访问<code>http://localhost:5601/</code>，页面如下即可：</p><p><img src="'+l+'" alt=""></p><h3 id="_4-4-通过idea启动后端代码" tabindex="-1"><a class="header-anchor" href="#_4-4-通过idea启动后端代码"><span>4.4 通过idea启动后端代码</span></a></h3><blockquote><p>配置</p></blockquote><p>点击<code>file</code> --&gt; <code>Project Structure</code> --&gt; <code>Project</code>,配置<code>SDK</code>为<code>jdk1.8</code>，<code>Project language level</code>为<code>8</code>。</p><p><img src="'+p+`" alt=""></p><blockquote><p>启动</p></blockquote><p>运行<code>jetlinks-standalone/src/main/java/org...../JetLinksApplication.java</code></p><h3 id="_4-5-通过webstorm启动前端代码" tabindex="-1"><a class="header-anchor" href="#_4-5-通过webstorm启动前端代码"><span>4.5 通过webstorm启动前端代码</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token comment"># 我的项目文件是D:\\project\\oil-iot\\jetlinks-ui-antd</span></span>
<span class="line"><span class="token builtin class-name">cd</span> D:<span class="token punctuation">\\</span>project<span class="token punctuation">\\</span>oil-iot<span class="token punctuation">\\</span>jetlinks-ui-antd</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 安装依赖</span></span>
<span class="line"><span class="token function">npm</span> <span class="token function">install</span></span>
<span class="line"><span class="token comment"># 运行</span></span>
<span class="line"><span class="token function">npm</span> start</span>
<span class="line"><span class="token comment"># 启动成功后直接访问http://localhost:8080/即可。默认账号(密码)为admin(admin)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-开发协议包" tabindex="-1"><a class="header-anchor" href="#_5-开发协议包"><span>5 开发协议包</span></a></h2>`,40),o=[c];function u(r,d){return n(),a("div",null,o)}const m=s(i,[["render",u],["__file","jetlinks项目初体验.html.vue"]]),v=JSON.parse('{"path":"/static/tang/IoTPlatform/jetlinks%E9%A1%B9%E7%9B%AE%E5%88%9D%E4%BD%93%E9%AA%8C.html","title":"jetlinks项目初体验","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"1 环境准备","slug":"_1-环境准备","link":"#_1-环境准备","children":[]},{"level":2,"title":"2 代码下载","slug":"_2-代码下载","link":"#_2-代码下载","children":[]},{"level":2,"title":"3 配置文件","slug":"_3-配置文件","link":"#_3-配置文件","children":[{"level":3,"title":"3.1 后端代码配置文件","slug":"_3-1-后端代码配置文件","link":"#_3-1-后端代码配置文件","children":[]},{"level":3,"title":"3.2 前端配置文件","slug":"_3-2-前端配置文件","link":"#_3-2-前端配置文件","children":[]}]},{"level":2,"title":"4 运行","slug":"_4-运行","link":"#_4-运行","children":[{"level":3,"title":"4.1 启动mysql与redis","slug":"_4-1-启动mysql与redis","link":"#_4-1-启动mysql与redis","children":[]},{"level":3,"title":"4.2 启动elasticsearch","slug":"_4-2-启动elasticsearch","link":"#_4-2-启动elasticsearch","children":[]},{"level":3,"title":"4.3启动kibana","slug":"_4-3启动kibana","link":"#_4-3启动kibana","children":[]},{"level":3,"title":"4.4 通过idea启动后端代码","slug":"_4-4-通过idea启动后端代码","link":"#_4-4-通过idea启动后端代码","children":[]},{"level":3,"title":"4.5 通过webstorm启动前端代码","slug":"_4-5-通过webstorm启动前端代码","link":"#_4-5-通过webstorm启动前端代码","children":[]}]},{"level":2,"title":"5 开发协议包","slug":"_5-开发协议包","link":"#_5-开发协议包","children":[]}],"git":{"updatedTime":1720499771000,"contributors":[{"name":"文铁铁~","email":"1179131421@qq.com","commits":1}]},"filePathRelative":"static/tang/IoTPlatform/jetlinks项目初体验.md"}');export{m as comp,v as data};
