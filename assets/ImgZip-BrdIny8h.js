import{_ as B,f as s,o as d,c as f,a as h,w as x,e as l,U as I,V as U,d as S,p as k,g as D}from"./app-CW2dCZSC.js";import{B as N}from"./EyeOutlined-DQhxQtWt.js";import{U as O,I as V}from"./InboxOutlined-Ebofj1oz.js";import"./compact-item-DFRe5bId.js";import"./useRefs-B3HhVsHX.js";const y={__name:"ImgZip",setup(o,{expose:i}){i();const n=s(""),e=s(),c=s("");function m(t){console.log(t),n.value=t.name;const g=new FileReader;g.onload=function(v){const a=new Image;a.onload=function(){const r=document.createElement("canvas"),w=r.getContext("2d"),p=a.width,u=a.height;r.width=p,r.height=u,w.drawImage(a,0,0,p,u),r.toBlob(b=>{e.value=b,c.value=URL.createObjectURL(e.value)},"image/jpeg",.5)},a.src=v.target.result},g.readAsDataURL(t)}const _={fileName:n,fileBlob:e,imgSrc:c,handleImage:m,execDownload:()=>{const t=document.createElement("a");t.href=c.value,t.download=n.value,t.click()},get Button(){return N},get UploadDragger(){return O},get InboxOutlined(){return V},ref:s};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}},C=o=>(k("data-v-85734b74"),o=o(),D(),o),L={style:{"padding-top":"10px","text-align":"center"}},R={class:"ant-upload-drag-icon"},j=C(()=>l("p",{class:"ant-upload-text"},"点击或拖拽文件到此处",-1)),E={class:"img"},Z=["src"];function A(o,i,n,e,c,m){return d(),f("div",L,[h(e.UploadDragger,{name:"file",showUploadList:!1,beforeUpload:e.handleImage},{default:x(()=>[l("p",R,[h(e.InboxOutlined)]),j]),_:1}),l("div",E,[e.imgSrc?(d(),f("img",{key:0,src:e.imgSrc,alt:""},null,8,Z)):I("",!0)]),e.imgSrc?(d(),U(e.Button,{key:0,onClick:e.execDownload},{default:x(()=>[S("下载压缩文件")]),_:1})):I("",!0)])}const H=B(y,[["render",A],["__scopeId","data-v-85734b74"],["__file","ImgZip.vue"]]);export{H as default};
