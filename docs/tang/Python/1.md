# python3基础查漏补缺
# 1.运算符

`**` 幂：`a**b`表示a的b次方

`//`取整除--向下取接近商的整数：`9//2`返回`4`，`-9//2`返回`-5`

​      **注意： `//`得到的并不一定是整数类型的数，它与分母分子的数据类型有关系** 

`/`除法-返回一个浮点数

# 2.基本数据类型

**在Python中，变量就是变量，没有类型。我们所说的”类型“是变量所指的内存中对象的类型。**

## 2.1标准数据类型

| 数据类型   | 是否可变 |               子类型/父级               | 备注                                                         |
| :--------- | :------: | :-------------------------------------: | ------------------------------------------------------------ |
| Number     |  不可变  | 子类型：<br />int、float、bool、complex | bool类型的变量可以和数字相加；<br />复数用a+bj或complex(a,b)表示； |
| String     |  不可变  |          父级：<br />sequence           | 索引值：从左到右，从0开始递增；<br />               从右到左，从-1开始递减<br />字符串截取：`变量[头下标:尾下标]`<br />                      含头不含尾<br />                   尾下标不写表示直到最后一个元素<br/>字符串重复：`变量*重复次数`<br />字符串连接：`变量+字符串`<br />字符串分割：`变量.split("分割规则")`<br />                        返回结果为List<br />包含：`字符串 in 变量`<br />            返回值为bool类型<br />不包含：`字符串 not in 变量`<br />                 返回值为bool类型<br /> |
| List       |   可变   |          父级：<br />sequence           | 有序的对象集合；<br />同一列表中的元素类型可以不同；<br />索引值：从左到右，从0开始递增；<br />               从右到左，从-1开始递减<br />列表截取：`变量[头下标:尾下标]`<br />                      含头不含尾<br />                   尾下标不写表示直到最后一个元素<br/>列表重复：`变量*重复次数`<br />列表连接：`变量+列表` |
| Tuple      |  不可变  |          父级：<br />sequence           | 写在()中，元素之间用逗号隔开；<br />元素存取方式：偏移；<br />同一元组中的元素类型可以不同；<br />索引值：从左到右，从0开始递增；<br />               从右到左，从-1开始递减<br />元组截取：`变量[头下标:尾下标]`<br />                    含头不含尾<br />                   尾下标不写表示直到最后一个元素<br/>元组重复：`变量*重复次数`<br />元组连接：`变量+元组` |
| Set        |   可变   |                    -                    | 无序的对象集合；<br />元素存取方式：键；<br />用大括号 `{}` 或者 `set()` 函数创建集合；<br />创建空集合必须使用`set()`;<br />基本功能：进行成员关系测试、<br />                    删除重复元素;<br/>集合运算：`-`求差集；<br />                   `|`求并集；<br />                  `&`求交集；<br />                 `^`求两集合中不同时存在的元素的集合 |
| Dictionary |   可变   |                    -                    | 是一种映射类型；<br />用`{}`标识；<br />是一种无序的 **键:值** 的集合；<br />同一个字典中**键**是唯一的；<br />获取指定的键的值：`变量[键]`；<br />获取所有的键：`变量.keys()`;<br />获取所有的值：`变量.values()`;<br />清空字典：`变量.clear()` |

## 2.2 Python数据类型转换

| 函数                 | 描述                                                 |
| -------------------- | ---------------------------------------------------- |
| int(x[,base])        | 将x转换为一个整数                                    |
| float(x)             | 将x转换为一个浮点数                                  |
| complex(real[,imag]) | 创建一个复数                                         |
| str(x)               | 将对象x转为字符串                                    |
| repr(x)              | 将对象x转为表达式字符串                              |
| eval(str)            | 用来计算在字符串中的有效Python表达式，并返回一个对象 |
| tuple(s)             | 将序列s转换为一个元祖                                |
| list(s)              | 将序列s转换为一个列表                                |
| set(s)               | 转换为可变集合                                       |
| dict(d)              | 创建一个字典。d必须是一个(key, vakue)元组序列        |
| frozenset(s)         | 转换为不可变集合                                     |
| chr(x)               | 将一个整数转换为一个字符                             |
| ord(x)               | 将一个字符转换为他的整数值                           |
| hex(x)               | 将一个整数转换为一个16进制字符串                     |
| oct(x)               | 将一个整数转换为一个8进制字符串                      |

## 2.3 数字类型Number

### 2.3.1 数学函数

***以下函数调用，均以【math.XX】形式***

| 函数        | 作用                                              |
| ----------- | ------------------------------------------------- |
| abs(x)      | 返回x的绝对值                                     |
| fabs(x)     | 返回x的绝对值，带小数                             |
| exp(x)      | 返回e的x次幂                                      |
| ceil(x)     | 对x向上取整                                       |
| floor(x)    | 对x向下取整                                       |
| log(x)      | 如math.log(math.e)返回1.0,math.log(100,10)返回2.0 |
| log10(x)    | 返回以10为底x的对数                               |
| acos(x)     | 返回x的反余弦弧度值                               |
| asin(x)     | 返回x的反正弦弧度值                               |
| atan(x)     | 返回x的反正切弧度值                               |
| atan2(y,x)  | 返回给定的x及y坐标值的反正切值                    |
| cos(x)      | 返回x的余弦值                                     |
| sin(x)      | 返回x的正弦值                                     |
| tan(x)      | 返回x的正切值                                     |
| degrees(x)  | 将弧度转换为角度                                  |
| randians(x) | 将角度转换为弧度                                  |
| hypot(x,y)  | 返回欧几里得范数 sqrt(x\*x+y\*y)                  |

### 2.3.2  随机函数

***以下函数调用，均以【random.XX】形式***

| 函数                           | 作用                                                         |
| ------------------------------ | ------------------------------------------------------------ |
| choice(seq)                    | 从序列中随机挑选一个元素                                     |
| randrange([start,]stop[,step]) | 从指定单位内，按指定基数递增的集合中获取一个随机数，基数默认值为1 |
| random()                       | 生成[0,1)的随机数                                            |
| seed([x])                      | 改变随机数生成器的种子                                       |
| shuffle(lst)                   | 将序列中的所有元素随机排序                                   |
| uniform(x,y)                   | 随机生成一个实数，范围为[x,y]                                |

## 2.4字符串

### 2.4.1 字符串格式化

```python
print ("我叫 %s 今年 %d 岁!" % ('小明', 10))

# 输出结果为：我叫 小明 今年 10 岁!
```

#### 2.4.1.1 字符串格式化符号

| 符号 | 描述                               |
| ---- | ---------------------------------- |
| %c   | 格式化字符集ASCII码                |
| %s   | 格式化字符串                       |
| %d   | 格式化整数                         |
| %u   | 格式化无符号整数                   |
| %o   | 格式化无符号八进制数               |
| %x   | 格式化无符号十六进制数             |
| %X   | 格式化无粗豪十六进制数（大写）     |
| %f   | 格式化浮点数，可指定小数点后的经度 |
| %e   | 用科学计数法格式化浮点数           |
| %E   | 同%e                               |
| %g   | %f 和 %e 的缩写                    |
| %G   | %f 和 %E 的缩写                    |
| %p   | 用十六进制数格式化变量的地址       |

#### 2.4.1.2 格式化操作符辅助指令

| 符号  | 功能                                                         |
| ----- | ------------------------------------------------------------ |
| *     | 定义宽度或者小数点精度                                       |
| -     | 左对齐                                                       |
| +     | 在正数前面显示加号                                           |
| \<sp> | 在正数前面显示空格                                           |
| #     | 在八进制数前面显示零('0')，在十六进制前面显示'0x'或者'0X'(取决于用的是'x'还是'X') |
| 0     | 显示的数字前面填充'0'而不是默认的空格                        |
| %     | '%%'输出一个单一的'%'                                        |
| (var) | 映射变量(字典参数)                                           |
| m.n.  | m 是显示的最小总宽度,n 是小数点后的位数(如果可用的话)        |

 Python2.6 开始，新增了一种格式化字符串的函数`str.fromat()`，它增强了字符串格式化的功能。 

#### 2.4.1.3 str.format()

基本语法是通过`{}` 和 `:`来代替以前的 `%` 。

format 函数可以接受不限个参数，位置可以不按顺序。

```python
>>>"{} {}".format("hello", "world")    # 不设置指定位置，按默认顺序
'hello world'
 
>>> "{0} {1}".format("hello", "world")  # 设置指定位置
'hello world'
 
>>> "{1} {0} {1}".format("hello", "world")  # 设置指定位置
'world hello world'
```

### 2.4.2 三引号

允许一个字符串跨多行。

```python
errHTML = '''
<HTML><HEAD><TITLE>
Friends CGI Demo</TITLE></HEAD>
<BODY><H3>ERROR</H3>
<B>%s</B><P>
<FORM><INPUT TYPE=button VALUE=Back
ONCLICK="window.history.back()"></FORM>
</BODY></HTML>
'''
```

### 2.4.3 内置函数

***以下函数调用，均以【变量名.XX】形式***

| 函数                      | 作用                                                         |
| ------------------------- | ------------------------------------------------------------ |
| capitalize()              | 把字符串的第一个字符大写                                     |
| center(width[, fillchar]) | 返回一个原字符串居中,并使用空格填充至长度 width 的新字符串。默认填充字符为空格。 |
| count(sub[, start, end])  | 统计子字符sub出现的次数。可选参数为在字符串搜索的开始与结束位置 |
| decode(encoding, errors)  | 以 *encoding* 指定的编码格式解码字符串，若出错默认报一个 ValueError 的 异 常。<br />errors -- 设置不同错误的处理方案。默认为 'strict',意为编码错误引起一个UnicodeError。 其他可能得值有 'ignore', 'replace', 'xmlcharrefreplace', 'backslashreplace' 以及通过 codecs.register_error() 注册的任何值 |
| encode(encoding, errors)  |                                                              |
|                           |                                                              |
|                           |                                                              |
|                           |                                                              |
|                           |                                                              |
|                           |                                                              |
|                           |                                                              |
|                           |                                                              |
|                           |                                                              |
|                           |                                                              |
|                           |                                                              |
|                           |                                                              |
|                           |                                                              |
|                           |                                                              |
|                           |                                                              |
|                           |                                                              |
|                           |                                                              |
|                           |                                                              |
|                           |                                                              |
|                           |                                                              |
|                           |                                                              |
|                           |                                                              |
|                           |                                                              |
|                           |                                                              |
|                           |                                                              |

# 3.时间

## 3.1 时间戳

```python
 
import time  # 引入time模块
 
ticks = time.time()
print "当前时间戳为:", ticks

# 输出结果：当前时间戳为: 1459994552.51
```

## 3.2 获取当前时间

```python
import time
 
localtime = time.localtime(time.time())
print "本地时间为 :", localtime

# 输出结果：本地时间为 : time.struct_time(tm_year=2016, tm_mon=4, tm_mday=7, tm_hour=10, tm_min=3, tm_sec=27, tm_wday=3, tm_yday=98, tm_isdst=0)
```

## 3.3 获取格式化时间

```python
import time
 
localtime = time.asctime( time.localtime(time.time()) )
print "本地时间为 :", localtime
# 输出结果为：本地时间为 : Thu Apr  7 10:05:21 2016

# 格式化成2016-03-20 11:45:39形式
print time.strftime("%Y-%m-%d %H:%M:%S", time.localtime()) 
 
# 格式化成Sat Mar 28 22:24:24 2016形式
print time.strftime("%a %b %d %H:%M:%S %Y", time.localtime()) 
  
# 将格式字符串转换为时间戳
a = "Sat Mar 28 22:24:24 2016"
print time.mktime(time.strptime(a,"%a %b %d %H:%M:%S %Y"))
```

时间格式化符号：

| 符号 | 意义                                        |
| ---- | ------------------------------------------- |
| %y   | 两位数的年份表示(00-99)                     |
| %Y   | 四位数的年份表示                            |
| %m   | 月份（01-12）                               |
| %d   | 月内某一天（01-31）                         |
| %H   | 24小时制小时数                              |
| %l   | 12小时制小时数                              |
| %M   | 分钟数                                      |
| %S   | 秒                                          |
| %a   | 本地简化星期名                              |
| %A   | 本地完整星期名                              |
| %b   | 本地简化月份名                              |
| %B   | 本地完整月份名                              |
| %c   | 本地相应的日期表示和时间表示                |
| %j   | 年内某一天（001-366）                       |
| %p   | 本地A.M.或P.M.的等价符                      |
| %U   | 一年中的星期数（00-53），以周日为星期的开始 |
| %u   | 一年中的星期数（0-53），以周日为星期的开始  |
| %W   | 一年中的星期数（00-53），以周一为星期的开始 |
| %w   | 一年中的星期数（0-53），以周一为星期的开始  |
| %x   | 本地对应的日期表示（月/日/年）              |
| %X   | 本地相应的时间表示（时:分:秒）              |
| %Z   | 当前市区的名称                              |
| %%   | %本身                                       |

# 4.函数

## 4.1 参数传递

与java中的值传递和引用传递类似，因为python中一切都是对象，因此所谓的值传递和引用传递，严格来说就是传不可变类型和传可变类型。

| 参数类型   | 举例                 | 说明                                                 |
| ---------- | -------------------- | ---------------------------------------------------- |
| 不可变类型 | Number，String，元组 | 函数中修改参数的值，对函数外部的对象本身的值没有影响 |
| 可变类型   | List，字典，Set      | 一旦在函数中修改了参数的值，函数外部的对象也会被修改 |

## 4.2 参数类型

| 参数类型   | 说明                                                         | 例子                                                        |
| ---------- | ------------------------------------------------------------ |-----------------------------------------------------------|
| 必备参数   | 必备参数须以正确的顺序传入函数;<br />调用时的数量必须和声明时的一样 | `<img src="../images/python3基础查漏补缺/python-base-fun1.png"  />`                                                          |
| 关键字参数 | 使用关键字参数允许函数调用时参数的顺序与声明时不一致         | `<img src="../images/python3基础查漏补缺\python-base-fun2.png"  />` |
| 默认参数   | 调用函数时，默认参数的值如果没有传入，则被认为是默认值       | `<img src="../images/python3基础查漏补缺\python-base-fun3.png"  />` |
| 不定长参数 | 一个函数能处理比当初声明时更多的参数。这些参数叫做不定长参数;<br />加了星号（*）的变量名会存放所有未命名的变量参数 | `<img src="../images/python3基础查漏补缺\python-base-fun4.png"  />` |

## 4.3 匿名函数

**python 使用 lambda 来创建匿名函数。**

1）lambda主体是一个表达式

2）lambda函数拥有自己的命名空间，且不能访问自己的参数列表之外或者全局命名空间里的参数

3）语法：

```python
lambda [arg1 [,arg2,.....argn]]:expression
```

eg.

```python
#!/usr/bin/python3
 
# 可写函数说明
sum = lambda arg1, arg2: arg1 + arg2
 
# 调用sum函数
print ("相加后的值为 : ", sum( 10, 20 ))

# 输出结果：相加后的值为 : 30
```

## 4.4 return 语句

`return [表达式]`语句用于退出函数，选择性地向调用方返回一个表达式。不带参数值的return语句返回None。

## 4.5强制位置参数

python 3.8新语法